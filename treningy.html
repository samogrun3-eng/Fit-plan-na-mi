<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tvoj tr√©ningov√Ω pl√°n</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Tvoj tr√©ningov√Ω pl√°n pre cieƒæ: <span id="nazovCielu"></span></h1>

    <div>
        <button id="variantA" class="variant-btn active" onclick="zmenVariant('A')">Variant A</button>
        <button id="variantB" class="variant-btn" onclick="zmenVariant('B')">Variant B</button>
    </div>

    <div id="plany"></div>
    <div id="odporucanie"></div>

    <a href="index.html">‚Üê Sp√§≈•</a>

    <script>
        const ciel = localStorage.getItem("ciel");
        const vaha = parseFloat(localStorage.getItem("vaha"));
        let aktualnyVariant = "A";

        const plany = {
            naberanie: {
                A: [
                    { den: "Pondelok ‚Äì Hrudn√≠k + Triceps", cviky: [{ nazov: "Bench press", popis: "≈§a≈æ≈°ia v√°ha, 6‚Äì8 opakovan√≠. 4 s√©rie." }, { nazov: "Kliky na bradl√°ch", popis: "Stredn√° v√°ha, 8‚Äì10 opakovan√≠. 3 s√©rie." }, { nazov: "Franc√∫zsky tlak", popis: "Stredn√° v√°ha, 10 opakovan√≠. 3 s√©rie." }] },
                    { den: "Streda ‚Äì Chrb√°t + Biceps", cviky: [{ nazov: "M≈ïtvy ≈•ah", popis: "≈§a≈æk√° v√°ha, 5‚Äì8 opakovan√≠. 3 s√©rie." }, { nazov: "Pr√≠≈•ahy v predklone", popis: "Stredn√° v√°ha, 8‚Äì10 opakovan√≠. 4 s√©rie." }, { nazov: "Biceps s ƒçinkami", popis: "Pomal√© tempo, 10‚Äì12 opakovan√≠. 3 s√©rie." }] },
                    { den: "Piatok ‚Äì Nohy + Ramen√°", cviky: [{ nazov: "Drepy", popis: "≈§a≈æk√° v√°ha, 6‚Äì8 opakovan√≠. 4 s√©rie." }, { nazov: "Tlaky na ramena v stoji", popis: "Stredn√° v√°ha, 8‚Äì10 opakovan√≠. 3 s√©rie." }, { nazov: "V√Ωpony l√Ωtok", popis: "Pomal√© tempo, 15‚Äì20 opakovan√≠. 3 s√©rie." }] }
                ],
                B: [
                    { den: "Pondelok ‚Äì Cel√© Telo", cviky: [{ nazov: "Drepy", popis: "3 s√©rie, 10 opakovan√≠." }, { nazov: "Bench press", popis: "3 s√©rie, 10 opakovan√≠." }, { nazov: "Pr√≠≈•ahy jednoruƒçky", popis: "3 s√©rie, 12 opakovan√≠." }] },
                    { den: "≈†tvrtok ‚Äì Cel√© Telo", cviky: [{ nazov: "M≈ïtvy ≈•ah", popis: "3 s√©rie, 5 opakovan√≠." }, { nazov: "Tlaky nad hlavu", popis: "3 s√©rie, 10 opakovan√≠." }, { nazov: "Biceps s ƒçinkami", popis: "3 s√©rie, 12 opakovan√≠." }] }
                ]
            },
            chudnutie: {
                A: [
                    { den: "Pondelok ‚Äì Kruhov√Ω tr√©ning", cviky: [{ nazov: "Drepy s vlastnou v√°hou", popis: "3 s√©rie, 20 opakovan√≠." }, { nazov: "Kliky", popis: "3 s√©rie, max." }, { nazov: "Angliƒç√°ky (Burpees)", popis: "3 s√©rie, 10 opakovan√≠." }] },
                    { den: "Streda ‚Äì Silov√Ω + Kardio", cviky: [{ nazov: "M≈ïtvy ≈•ah", popis: "3 s√©rie, 10 opakovan√≠." }, { nazov: "Tlaky na ramena v stoji", popis: "3 s√©rie, 12 opakovan√≠." }, { nazov: "Beh", popis: "30 min√∫t." }] }
                ],
                B: []
            },
            udrzanie: { A: [], B: [] }
        };

        const odporucania = { naberanie: "Jedz v kalorickom nadbytku.", chudnutie: "Jedz v kalorickom deficite.", udrzanie: "Zosta≈à akt√≠vny." };
        const nazvyCielov = { naberanie: "Naberanie svalovej hmoty", chudnutie: "Chudnutie", udrzanie: "Zosta≈• fit" };

        function getCvikImage(nazov) {
            let n = nazov.toLowerCase();
            if (n.includes("angliƒç√°ky")) return "anglikaky_burpees.png";
            if (n.includes("tlaky nad hlavu")) return "tlaky_nad_hlavu.png";
            if (n.includes("ramen")) return "tlaky_na_ramena_v_stoji.png";
            if (n.includes("bench press")) return "bench_press.png";
            if (n.includes("m≈ïtvy ≈•ah")) return "mrtvy_tah.png";
            if (n.includes("beh")) return "beh.png";
            return n.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/ /g, '_').replace(/[^\w-]/g, '') + ".png";
        }

        function zobrazPlan() {
            const planBox = document.getElementById("plany");
            const odporBox = document.getElementById("odporucanie");
            const nazovCieluElement = document.getElementById("nazovCielu");
            planBox.innerHTML = "";
            nazovCieluElement.textContent = nazvyCielov[ciel] || "Tr√©ningov√Ω pl√°n";

            if (ciel && plany[ciel] && plany[ciel][aktualnyVariant]) {
                plany[ciel][aktualnyVariant].forEach((den, j) => {
                    const div = document.createElement("div");
                    div.className = "plan";
                    div.innerHTML = `<h3>${den.den}</h3>`;
                    den.cviky.forEach((c, i) => {
                        const idVysledku = `vysledok-${ciel}-${aktualnyVariant}-${j}-${i}`;
                        const nazovObrazka = getCvikImage(c.nazov);
                        setTimeout(() => { vypocitaj(c.nazov, idVysledku); }, 0);

                        div.innerHTML += `
                            <div class='cvik-container'> 
                                <div class='cvik'>
                                    <p class="nazov-cviku-obrazok">${c.nazov}</p>
                                    <img src="${nazovObrazka}" alt="${c.nazov}" class="img-cvik">
                                    <div class="text-popis">
                                        <strong>${c.nazov}</strong><br>${c.popis}
                                        <div id="${idVysledku}" class="vysledok-staticky"></div>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    planBox.appendChild(div);
                });
                odporBox.innerHTML = `<div class="odporucanie"><h2>Odpor√∫ƒçania</h2><p>${odporucania[ciel]}</p></div>`;
            }
        }

        function vypocitaj(nazov, vysId) {
            const vysledokElement = document.getElementById(vysId);
            if (!vysledokElement || !vaha) return;
            let multiplikator = 1.0;
            let n = nazov.toLowerCase();
            if (n.includes("drep") || n.includes("v√Ωpady")) multiplikator = 1.5;
            else if (n.includes("m≈ïtvy")) multiplikator = 1.75;
            else if (n.includes("bench")) multiplikator = 0.9;
            else if (n.includes("tlaky")) multiplikator = 0.6;
            else if (n.includes("biceps")) multiplikator = 0.35;
            vysledokElement.innerHTML = `üèãÔ∏è‚Äç‚ôÇÔ∏è V√°ha: <strong>${(vaha * multiplikator).toFixed(1)} kg</strong>`;
        }

        function zmenVariant(variant) {
            aktualnyVariant = variant;
            document.getElementById("variantA").classList.toggle("active", variant === "A");
            document.getElementById("variantB").classList.toggle("active", variant === "B");
            zobrazPlan();
        }
        zobrazPlan();
    </script>
</body>
</html>
</body>
</html>
